<mxfile host="app.diagrams.net" modified="2020-03-17T07:57:49.215Z" agent="Mozilla/5.0 (Windows NT 6.3; Win64; x64; rv:74.0) Gecko/20100101 Firefox/74.0" etag="q5Nl6lfJ52gF79zCMATS" version="12.8.5" type="github">
  <diagram id="1T4nzOH6UP3EUPKIFWNZ" name="第 1 页">
    <mxGraphModel dx="-787" dy="2816" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-2" target="VHBSoIoD1mVzgu3tyVx4-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-2" value="带台账动账流程" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffffff;fontColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="1862" y="-2180" width="55" height="36" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-5" target="VHBSoIoD1mVzgu3tyVx4-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-5" target="VHBSoIoD1mVzgu3tyVx4-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-5" value="&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 是否包含台账转出？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffffff;fontColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="1816" y="-2053" width="151" height="33" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.03;entryY=0.515;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-7" target="VHBSoIoD1mVzgu3tyVx4-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-7" value="生成STB清算流水，操作台账转出" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;align=left;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="2007" y="-2051.25" width="111" height="29.5" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-9" target="VHBSoIoD1mVzgu3tyVx4-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-9" value="操作存款DEP动账" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;align=left;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1836" y="-1989" width="111" height="29.5" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-10" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="1">
          <mxGeometry x="1981" y="-2064" width="22" height="18" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-11" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="1">
          <mxGeometry x="1868" y="-2013" width="22" height="18" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.991;entryY=0.644;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-14" target="VHBSoIoD1mVzgu3tyVx4-9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2231" y="-1970" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-14" target="VHBSoIoD1mVzgu3tyVx4-22">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2343" y="-2036" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-14" value="&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 台账转出是否成功？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffffff;fontColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="2155" y="-2053" width="151" height="33" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.49;entryY=0.061;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-16" target="VHBSoIoD1mVzgu3tyVx4-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-16" value="生成 / 加载 DEP清算流水" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;align=left;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1834" y="-2113" width="111" height="29.5" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;exitX=0.5;exitY=0.917;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-18" target="VHBSoIoD1mVzgu3tyVx4-7">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2069.3" y="-2097.5" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-18" value="可能是台账出金，也可能是台账解冻并动账。&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;这里做了防重处理，即使重试多次，同一笔dep清算流水最多只会有一次有效的台账转出操作&lt;/div&gt;" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;dashed=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="1985.5" y="-2200" width="155" height="105" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-19" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="1">
          <mxGeometry x="2207" y="-2003" width="22" height="18" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-20" value="返回失败" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="2084" y="-1898" width="80" height="39" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.538;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-22" target="VHBSoIoD1mVzgu3tyVx4-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2343" y="-1877" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-22" value="更新STB 和 DEP清算流水为失败" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;align=left;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="2287" y="-1968.5" width="111" height="29.5" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-23" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="1">
          <mxGeometry x="2348" y="-2021" width="22" height="18" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-25" target="VHBSoIoD1mVzgu3tyVx4-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-25" value="&lt;div&gt;更新DEP清算流水状态&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;align=left;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1836" y="-1929.5" width="111" height="29.5" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-29" target="VHBSoIoD1mVzgu3tyVx4-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-29" target="VHBSoIoD1mVzgu3tyVx4-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-29" target="VHBSoIoD1mVzgu3tyVx4-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-29" value="&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 判断DEP动账状态？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffffff;fontColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="1816" y="-1870.5" width="151" height="33" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.503;entryY=-0.068;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-31" target="VHBSoIoD1mVzgu3tyVx4-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-31" value="&lt;div&gt;DEP动账超时&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;align=left;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1725" y="-1813" width="80.5" height="29.5" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-33" target="VHBSoIoD1mVzgu3tyVx4-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-33" value="&lt;div&gt;DEP动账成功&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;align=left;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1850.75" y="-1813" width="80.5" height="29.5" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.026;entryY=0.508;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-35" target="VHBSoIoD1mVzgu3tyVx4-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-35" value="&lt;div&gt;DEP动账失败&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;align=left;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1971.5" y="-1815" width="80.5" height="29.5" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.563;entryY=1.026;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-38" target="VHBSoIoD1mVzgu3tyVx4-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-38" target="VHBSoIoD1mVzgu3tyVx4-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-38" value="&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 是否包含台账转出？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffffff;fontColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="2098.5" y="-1816.75" width="151" height="33" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-39" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="1">
          <mxGeometry x="2192.5" y="-1845" width="22" height="18" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-41" target="VHBSoIoD1mVzgu3tyVx4-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2361" y="-1878" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-41" value="新生成STB冲正流水进行台账转出冲正" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;align=left;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="2299.5" y="-1815" width="111" height="29.5" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-42" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="1">
          <mxGeometry x="2264.5" y="-1822" width="22" height="18" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="VHBSoIoD1mVzgu3tyVx4-44" target="VHBSoIoD1mVzgu3tyVx4-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-44" value="写入redo表，并打error告警" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;align=left;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1725" y="-1745" width="80.5" height="29.5" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-45" value="返回超时" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="1725" y="-1691" width="80" height="39" as="geometry" />
        </mxCell>
        <mxCell id="VHBSoIoD1mVzgu3tyVx4-46" value="&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 是否包含台账转入？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffffff;fontColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="1815.5" y="-1748.5" width="151" height="33" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
